{"ast":null,"code":"import _toConsumableArray from \"/home/ubuntu/pythonCode/projectASD/main/nkust_IC_projectASD_NLP/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _taggedTemplateLiteral from \"/home/ubuntu/pythonCode/projectASD/main/nkust_IC_projectASD_NLP/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/home/ubuntu/pythonCode/projectASD/main/nkust_IC_projectASD_NLP/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _templateObject,\n  _jsxFileName = \"/home/ubuntu/pythonCode/projectASD/main/nkust_IC_projectASD_NLP/my-app/src/pages/components/test.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Input, Button, List } from 'antd';\nimport { PlayCircleFilled } from '@ant-design/icons';\nimport styles from \"./css/style.css\";\nimport io from 'socket.io-client';\nimport styled from '@emotion/styled';\nvar Test = function Test() {\n  var TextArea = Input.TextArea;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    socket = _useState2[0],\n    setSocket = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    messages = _useState4[0],\n    setMessages = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    message = _useState6[0],\n    setMessage = _useState6[1];\n  var antButton = styled(Button)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      color: red;\\n      background-color: blue;\\n      border-radius: 5px;\\n    \"])));\n  useEffect(function () {\n    var newSocket = io('http://0.0.0.0:8585');\n    setSocket(newSocket);\n    return function () {\n      newSocket.disconnect();\n    };\n  }, []);\n  useEffect(function () {\n    if (!socket) {\n      return;\n    }\n    socket.on('message', function (data) {\n      setMessages([].concat(_toConsumableArray(messages), [data]));\n    });\n    socket.on('response', function (data) {\n      setMessages([].concat(_toConsumableArray(messages), [data.message]));\n    });\n    return function () {\n      socket.off('message');\n    };\n  }, [socket, messages]);\n  var sendMessage = function sendMessage() {\n    socket.emit('message', message);\n    setMessage('');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    itemLayout: \"horizontal\",\n    dataSource: messages,\n    renderItem: function renderItem(item) {\n      return /*#__PURE__*/React.createElement(List.Item, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 31\n        }\n      }, item);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: 24,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    value: message,\n    onChange: function onChange(e) {\n      return setMessage(e.target.value);\n    },\n    placeholder: \"Enter message\",\n    autoSize: {\n      minRows: 2,\n      maxRows: 6\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: sendMessage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PlayCircleFilled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }))));\n};\nexport default Test;","map":{"version":3,"names":["React","useState","useEffect","Input","Button","List","PlayCircleFilled","styles","io","styled","Test","TextArea","_useState","_useState2","_slicedToArray","socket","setSocket","_useState3","_useState4","messages","setMessages","_useState5","_useState6","message","setMessage","antButton","_templateObject","_taggedTemplateLiteral","newSocket","disconnect","on","data","concat","_toConsumableArray","off","sendMessage","emit","createElement","style","margin","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","itemLayout","dataSource","renderItem","item","Item","display","justifyContent","alignItems","value","onChange","e","target","placeholder","autoSize","minRows","maxRows","type","onClick"],"sources":["/home/ubuntu/pythonCode/projectASD/main/nkust_IC_projectASD_NLP/my-app/src/pages/components/test.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Input, Button, List } from 'antd';\nimport { PlayCircleFilled } from '@ant-design/icons';\nimport styles from \"./css/style.css\" \nimport io from 'socket.io-client';\nimport styled from '@emotion/styled';\n\nconst Test = () => {\n\n    const { TextArea } = Input;\n    const [socket, setSocket] = useState(null);\n    const [messages, setMessages] = useState([]);\n    const [message, setMessage] = useState('');\n    const antButton = styled(Button)`\n      color: red;\n      background-color: blue;\n      border-radius: 5px;\n    `;\n    \n    useEffect(() => {\n    const newSocket = io('http://0.0.0.0:8585');\n      setSocket(newSocket);\n\n      return () => {\n        newSocket.disconnect();\n      };\n    }, []);\n\n    useEffect(() => {\n      if (!socket) {\n        return;\n      }\n  \n      socket.on('message', (data) => {\n        setMessages([...messages, data]);\n      });\n      socket.on('response', (data) => {\n        setMessages([...messages, data.message]);\n      });\n  \n      return () => {\n        socket.off('message');\n      };\n    }, [socket, messages]);\n  \n    const sendMessage = () => {\n      socket.emit('message', message);\n      setMessage('');\n    };\n\n\n    return(\n      \n        <div style={{ margin: 24 }}>\n      <List\n        itemLayout=\"horizontal\"\n        dataSource={messages}\n        renderItem={(item) => <List.Item>{item}</List.Item>}\n      />\n      <div style={{ margin: 24, display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n        <TextArea\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          placeholder=\"Enter message\"\n          autoSize={{ minRows: 2  , maxRows: 6 }}>\n          \n        </TextArea>\n        <Button  type=\"primary\"  onClick={sendMessage}>\n        <PlayCircleFilled />\n        </Button>   \n        \n        \n      </div>\n    </div>\n  \n    );\n};\n\nexport default Test;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}